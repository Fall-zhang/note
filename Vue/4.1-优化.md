>Create by fall on:2022-09-01
>Recently revised in:2022-09-01

## 定义异步组件

```vue
<script>
import {defineAsyncComponent as asyncPart} from 'vue'
const AsyncComponent = asyncPart(()=>import('./components/MyChart.vue'))
const AsyncComponent = asyncPart(()=>{
  return new Promise((resolve,reject)=>{
    // ...
    resolve(/* 获取的组件 */)
  })
})
</script>
<template>
<AsyncComponent></AsyncComponent>
</template>
```

## keep-alive

实现组件缓存，组件切换时，不会对当前组件进行卸载。

使用场景是嵌套 `router-view`

```vue
<keep-alive>
  <router-view></router-view>
</keep-alive>
```

`keep-alive` 标签总共可以传递三个参数，`include`、`exclude` 分别表示，匹配成功的内容会不会被缓存，`max` 表示限制缓存的最大个数，默认为 10 个。  

被 `keep-alive` 包含的组件/路由中，会多出两个生命周期的钩子：`activated` 与 `deactivated`。`activated` 会在组件第一次渲染时调用，之后如果激活了，也会去调用。

`$route.meta.keepAlive` 可以用来判断当前路由是否被缓存，可以利用这点添加骨架屏，以保证用户的体验。