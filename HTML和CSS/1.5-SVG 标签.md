---
sidebar_position: 7
---

> Create by **fall** on 30 Mar 2023
> Recently revised in 31 Mar 2023

## SVG

svg（Scalable Vector Graphics）：可缩放矢量图形，基于文本的开放网络标准，SVG 能够优雅而简洁地渲染矢量图形。

> [SVG2 的详细标准](https://www.w3.org/TR/SVG2/)
>
> 2003 年成为 W3C 推荐标准以来，最接近的“完整版”SVG 版本是 1.1 版，它基于 1.0  版，并且增加了更多便于实现的模块化内容，SVG1.1 的第二个版本在 2011 年成为推荐标准，完整的 SVG1.2  本来是下一个标准版本，但它又被 SVG2.0 取代。

svg 中的所有标签只能在 svg 中发挥对应的作用。

常用的标签：

- path：表示路径
- 形状标签：circle（圆）、rect（矩形）、line（线段）、
- g：分组标签，将 g 上的属性放置在内容中。
- 文本标签：text、tspan

### 示例

svg 上面的一些属性含义

- height，width 表示宽高，实际展示在页面的宽高
- viewBox 表示画布的宽高，svg 内的数字就是相对于此宽高的坐标
- xmlns：命名空间声明，意味着这个 `<svg>` 标签和它的子节点都属于 `http://www\.w3.org/2000/svg` 这个 SVG 命名空间，虽然看起来像 URL

数字和字母之间不用分隔，数字之间必须用空白、逗号、终止命令符或者换行符分隔开。

> SVG 2 不推荐使用 version 和 baseProfile 这两个属性。

```html
<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="400" height="400" viewBox="0 0 48 48">
  <g fill="url('#paint0_linear')" stroke-width="2" stroke-linejoin="round">
    <path d="M18 6H8C6.89543 6 6 6.89543 6 8V18C6 19.1046 6.89543 20 8 20H18C19.1046 20 20 19.1046 20 18V8C20 6.89543 19.1046 6 18 6Z" />
    <path d="M18 28H8C6.89543 28 6 28.8954 6 30V40C6 41.1046 6.89543 42 8 42H18C19.1046 42 20 41.1046 20 40V30C20 28.8954 19.1046 28 18 28Z" />
    <path d="M40 6H30C28.8954 6 28 6.89543 28 8V18C28 19.1046 28.8954 20 30 20H40C41.1046 20 42 19.1046 42 18V8C42 6.89543 41.1046 6 40 6Z" />
    <path d="M40 28H30C28.8954 28 28 28.8954 28 30V40C28 41.1046 28.8954 42 30 42H40C41.1046 42 42 41.1046 42 40V30C42 28.8954 41.1046 28 40 28Z" />
  </g>
  <defs>
    <linearGradient id="paint0_linear" x1="4" y1="4" x2="32" y2="32" gradientUnits="userSpaceOnUse">
      <stop stop-color="#41D1FF" />
      <stop offset="1" stop-color="#BD34FE" />
    </linearGradient>
  </defs>
</svg>
```

可以通过多个元素调用 svg

```html
<iframe src="image.svg"></iframe>
<object data="image.svg" type="image/svg+xml" />
<img src="image.svg">
```

## 标签

需要注意的是，所有的标签都必须放置在 下面

### rect

矩形

rx：圆角的 x 方位的半径

ry：圆角的 y 方位的半径

```xml
<rect x="60" y="10" rx="10" ry="10" width="30" height="30" stroke="black" fill="transparent" stroke-width="5"/>
```

### circle

圆形

```xml
<circle cx="25" cy="75" r="20" stroke="red" fill="transparent" stroke-width="5"/>
```

### ellipse

椭圆，rx，ry 控制长轴半径和短轴半径

```xml
<ellipse cx="75" cy="75" rx="20" ry="5" stroke="red" fill="transparent" stroke-width="5"/>
```

### line

线段，控制两个点之间的内容

```xml
<line x1="10" x2="50" y1="110" y2="150" stroke="orange" fill="transparent" stroke-width="5"/>
```

### polyline

折线，所有的点都放在一个 points 属性中，

```xml
<polyline points="60 110 65 120 70 115 75 130 80 125 85 140 90 135 95 150 100 145"
          stroke="orange" fill="transparent" stroke-width="5"/>
```

### polygon

多边形，所有的点都放在一个 points 属性中，会将第一个点和最后一个连接起来

```xml
<polygon points="50 160 55 180 70 180 60 190 65 205 50 195 35 205 40 190 30 180 45 180"
         stroke="green" fill="transparent" stroke-width="5"/>
```

### path

使用 path 画一个矩形

```xml
<path d="M10 10H90V90H10z" fill="transparent" stroke="pink" stroke-width="6" />
```

### g

分组元素，可以进行分组，将 g 元素上的所有属性下发到所有子元素身上。

```xml
<g fill="url('#paint0_linear')" stroke-width="2" stroke-linejoin="round">
  <path d="M18 6H8C6.89543 6 6 6.89543 6 8V18C6 19.1046 6.89543 20 8 20H18C19.1046 20 20 19.1046 20 18V8C20 6.89543 19.1046 6 18 6Z" />
  <path d="M40 28H30C28.8954 28 28 28.8954 28 30V40C28 41.1046 28.8954 42 30 42H40C41.1046 42 42 41.1046 42 40V30C42 28.8954 41.1046 28 40 28Z" />
</g>
```

### text

字体，在 `<svg>` 元素内部，任何位置都可以放置字体

```xml
<svg version="1.1" xmlns="http://www.w3.org/2000/svg">
  <text x="100" y="100" font-weight="bold" fill="pink" font-size="24" text-anchor="end">Fall</text>
  <!-- text-anchor 表示从哪里开始渲染字体 -->
</svg>
```

有其他属性可以选择：font-family、font-style、font-weight、font-variant、font-stretch、font-size、font-size-adjust、kerning、letter-spacing、word-spacing、text-decoration。

### tspan

必须为 `<tspan>` 或者 `<text>` 的子标签，用于表示一大串字符串的子部分，对文字进行精细化处理。

```xml
<text>
  This is <tspan font-weight="bold" fill="red">Mr Fall</tspan>
</text>
```

### textPath

通过关联 path 将文字对齐到 path

```xml
<path id="my_path" d="M 100 200 Q 200 100 300 200 T 500 200" stroke="rgb(0,255,0)" fill="none" />
<text>
  <textPath xlink:href="#my_path" startOffset="10">This text follows a curve.</textPath>
</text>
```

### clip-path

定义剪切的部分

clipPath 通常放置在 defs 中

```xml
<defs>
  <clipPath id="cut-off-bottom">
    <rect x="0" y="0" width="100" height="100" />
  </clipPath>
</defs>
<circle cx="100" cy="100" r="100" clip-path="url(#cut-off-bottom)" />
```



## 属性

### d

SVG 使用的坐标系统（所有计算机绘图都差不多），左上角为 (0,0) 坐标点，坐标以像素为单位，x 轴正方向是向右，y 轴正方向是向下

可以使用的 SVG 元素：`<path>`。

表示路径，其中有很多字母表示不同的含义，这些命令是**大小写敏感**的。大写的命令指定绝对坐标，而小写命令指定相对（于当前位置的）坐标。

**移动至**

- `M/m`（Move to）命令是移动画笔位置，但是不画线，M 命令经常出现在路径的开始处，用来指明从何处开始画。

**画线至**

- `L/l`（Line to）在当前位置和目标位置中间画一条线，至少需要确定一个 M，再开始画线
- `H/h`（horizon）水平移动，只移动 x 轴
- `V/v`（vertical）垂直移动，只移动 y 轴

**闭合路径**

- `Z/z` 命令会从当前点画一条直线到路径的起点，这个命令大小写都一样

**贝塞尔曲线**

- 三次方贝塞尔曲线：`C`、`c`、`S`、`s`
- 二次方贝塞尔曲线：`Q`、`q`、`T`、`t`

```html
<svg width="200px" height="200px" version="1.1"  viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
  <!-- 移动到 10 10，在 20 20 之间画一条线连接 -->
  <path d="M10 10 l20 20" stroke="magenta"/>
</svg>
```

应用示例

<svg height="60px" width="60px" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
  <path fill="none" stroke="red"
        d="M 10,30
           A 20,20 0,0,1 50,30
           A 20,20 0,0,1 90,30
           Q 90,60 50,90
           Q 10,60 10,30 z" />
</svg>

#### 贝塞尔曲线

三次贝塞尔曲线格式

```xml
<path d="M 10 10 C 90 10 20 41 20 40" fill="none" stroke="red"/>
<!-- 格式：C x1 y1 x2 y2 x y --> 
<!-- x1, y1 表示起点控制坐标 x2, y2 表示终点控制坐标 x,y 表示终点位置 -->
<path d="M 10 10 S 55 40 10 90" fill="none" stroke="pink" stroke-width="2px"/>
<!-- 格式：S x1 y1 x y -->
<!-- x1, y1 表示起点控制坐标 x,y 表示终点位置 -->
```

如果 S 命令跟在一个 C 或 S 命令的后面，它的第一个控制点，就会被假设成前一个控制点的对称点。

如果 S 命令单独使用，前面没有 C 或 S 命令，那么它的两个控制点就会被假设为同一个点。

二次贝塞尔曲线

```xml
<path d="M 10 80  Q 52.5 10, 95 80 T 180 80"  fill="none" stroke="red"/>
<!-- 格式：Q x1 y1 x y -->
<!-- x1 y1 控制点坐标，确定起点和终点的曲线斜率 x, y 表示终点坐标 -->
<!-- 格式：T x y -->
<!-- T 命令前面必须是一个 Q 命令，或者是另一个 T 命令，T 命令会通过前一个控制点，推断出一个新的控制点，此时，只书写终点即可 -->
```

#### 椭圆弧线

椭圆弧线 (A)

### fill

表示填充，填充颜色，

```xml

```



### stroke

表示路径的颜色

```html
<path d="M10 10 H 90 V 90 H 10 Z" fill="transparent" stroke="black" />
```

stroke-width

表示路径宽度



stroke-linejoin

```xml
<path d="M10 10 H 90 V 90 H 10 Z" fill="transparent" stroke="black" stroke-width="4px" />
```



### defs

## 参考文章

| 作者         | 文章名称                                                     |
| ------------ | ------------------------------------------------------------ |
| MDN 官方文档 | [SVG：可缩放矢量图形](https://developer.mozilla.org/zh-CN/docs/Web/SVG) |
| nightZing    | [HTML5学习--SVG全攻略（进阶篇）](https://www.jianshu.com/p/ae87e188b44b) |
|              |                                                              |


