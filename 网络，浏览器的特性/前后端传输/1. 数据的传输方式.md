## 服务器状态码

`1--` :   请求收到，继续处理

`2--` ： 操作成功收到，分析，接受

`3--` ： 完成此请求必须进一步处理

`4--` ：请求包含一个错误语法，或不能完成

`5--` ：服务器执行一个完全有效请求失败

**常见的状态码**

`200`：交易成功

`404`：没有发现路径，查询，或URL

`400`：请求中有语法错误

## 传输数据的格式

### XML进行数据传输

优点：标签种类丰富，传输量大

缺点：标签解析特别麻烦，不太适合轻量级数据

应用：大型门户网站：网易、新浪、凤凰网

### json数据传输格式

优点：数据轻量，解析比较轻松

缺点：传输的数据种类比较少，数据传输量比较小

应用：95%的移动端应用

## json格式数据的转化

**JavaScript**

```js
// JSON.stringify(str) 将数据转化为字符串
var arr = [100,true,"hellow"];
alert(JSON.stringify(str));
var obj={
    name:"MJ",
    age: 18,
    value:'take me'
}
alert(JSON.stringify(obj))
//JSON.parse(str)  将字符串，转化成数据
var str = '{"username":"fuck","age":"18","value":"feiwu"}'
var obj = JSON.parse(str);
alert(obj.username);
```

PHP

```php
// json_encode()   将数据转化为字符串
// json_decode()   将字符串转成对应的数据结构
```

## get和post提交

### form表单的get和post

**get提交**

> 直接将数据拼接在`url`后面进行提交，通过`?`后面拼接字符实现提交，也被称作查询字符串
>
> **优点**：简单，快捷，获取方便
>
> **缺点**：不安全，数据有上限、最大2kb，没法实现文件的上传

post提交

> 通过浏览器内部进行提交
>
> **优点**：理论上没有上限，安全
>
> **缺点**：具体实现比get复杂

表单实现get

```html
<form action="3.get.php" method="get">
    <input type="text" name="username" placeholder="用户名"> <br>
    <input type="text" name="age" placeholder="年龄"> <br>
    <input type="text" name="password" placeholder="密令"> <br>
    <input type="submit" >
  </form>
```

表单实现post

```html
<form action="4.post.php" method="post" enctype="application/x-www-form-urlencoded">
    <input type="text" placeholder="name" name="username"> <br>
    <input type="text" placeholder="age" name="age"><br>
    <input type="text" placeholder="password" name="password"><br>
    <input type="submit">
 </form>
```

### ajax的get和post

get提交

- 直接将所传输的数据用问号拼接在页面后方

```js
xhr.open("get","1.get.php?username=sss&age=19&password=abc123",true);
```

post

- 首先需要使用setRequestHeader
- 然后在send中传入数据

```js
xhr.setRequestHeader("content-type","application/x-www-form-urlencoded")
xhr.send("username=sss&age=19&password=abc123");  
```

> ?name1=value1&name2=value2       有问号是：search
>
> name1=value1&name2=value2         没有问号是：querystring

## JSONP跨域

为什么使用JSONP跨域：浏览器的同源策略

- 只能是同一个协议
- 同域名/同IP
- 同一个端口号

> ajax 只能下载同源策略的数据

数据量大，必然有跨源需求

### 解决方法

- 直接修改ajax同源协议
- 委托PHP进行跨源
- JSONP

> JSONP是利用 src 没有同源策略，可以通过该标签无限制跨源

### 实现方法

```html
<script>
function download(data){
    alert("data"+data);
}
</script>
<script src="demo.js"></script>
```

> 1. 需要在使用时才读取数据
> 2. 能不能引入除 json 之外的其他文件

> **使用流程**
>
> - 先声明名一个函数，这个函数有一个形参
> - 在需要下载数据的时候，动态创建script标签，将想要下载数据链接的src引入
> - script插入到页面时，就会将已经封庄号的数据传输过来

> JSONP跨域不用将数据进行转换就可以调用，不同于ajax传入的字符串