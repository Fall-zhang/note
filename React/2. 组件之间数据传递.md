> 创建时间：2021-11-12
> 更新时间：2021-12-16

思考，两个组件之间如何传输数据？写一个demo实现它

## 组合，继承

### 包含关系

就是可以把标签内的数据直接传递给 `prop` 中特定的值，`children` 

```react
function MsgContainer(props){
  return (<div>
    <span>下面会出现一段话：</span>
    {props.children}
    </div>)
}
function App(){
  return(<MsgContainer>
    <h1>这是啥？</h1>
    </MsgContainer>)
}
```

### prop

因为 react 没有“插槽”（slot）的概念，但在 React 中没有“插槽”这一概念的限制，因为本质是对象，所以你可以将任何组件作为 props 进行传递。

```jsx
// function 式语法
function MsgContainer(props){
  return (<div>
    <span>下面会出现一段话：</span>
    {props.top}
    </div>)
}
function App(){
  return(<MsgContainer top={<TopButton/>}>
    </MsgContainer>)
}
```

## Context

应用场景，多层组件通信

无需为每层组件手动添加 props，就能在组件树间进行数据传递的方法。

主要应用场景在于**很多**不同层级的组件需要访问同样一些的数据。请谨慎使用，因为这会使得组件的复用性变差。

### 使用

```jsx
// const MyContext = React.createContext(value)// 这个传入的值，只有没有匹配到 provider 时才回生效
const MyContext = React.createContext()
// 生成的 MyContext 上面有 Provider,Consumer,contextType,displayName
const { Provider,Consumer } = MyContext 
// Provider 用来提供数据，Consumer 
class BiteMe extends React.Component{
  render(){
    return (<div>
      <Consumer>
        {value=>`传过来的数据是这个${value.username}`}
      </Consumer>
    </div>)
  }
}
export default class Vivcv extends React.Component{
  state={username:'刘希'}
  render(){
    return(<div>
      <h1>人们从来不懂</h1>
      <Provider value={this.state}>
        <BiteMe/>
      </Provider>
    </div>)
  }
}
```





























