> 创建时间：2021-12-24
> 更新时间：2021-12-24

## Fragments

Fragments 允许你将子列表分组，而无需向 DOM 添加额外节点。

```jsx
render(){
  return (
    <React.Fragment>
      <ChildA></ChildA>
      <ChildB></ChildB>
    </React.Fragment>
  )
}
// 简写
render() {
  return (
    <>
    <td>Hello</td>
    <td>World</td>
    </>
  );
}
```

## 性能优化



**一般建议**

- 确保现在使用的是生产的版本，而不是开发版本

**打包优化**

- terser-brunch
- Browserify
- Rollup 
- webpack 

这么多构建工具，使用 webpack 就可以了

性能分析，在开发者工具 performance 按下 record ，20s内点击停止后进行复现就可以了

**开发者工具中的分析器**

- [Chrome 浏览器扩展](https://chrome.google.com/webstore/detail/react-developer-tools/fmkadmapgofadopljbjfkapdkoienihi?hl=en)
- [Firefox 浏览器扩展](https://addons.mozilla.org/en-GB/firefox/addon/react-devtools/)
- [独立 Node 包](https://www.npmjs.com/package/react-devtools)

> `react-dom` 的生产分析包也可以在 `react-dom/profiling` 中找到。 通过查阅 [fb.me/react-profiling](https://fb.me/react-profiling) 来了解更多关于使用这个包的内容。

**技术方案**

使用“虚拟滚动”技术。

### ShouldComopnentUpdate

覆盖生命周期方法 `shouldComponentUpdate` 来进行提速。该方法会在重新渲染前被触发。其默认实现总是返回 `true`，让 React 执行更新：

```jsx
// React 执行更新：
shouldComponentUpdate(){
  return true
}
// 如果你知道什么时候要 React 不需要执行更新，可以通过返回 false
shouldComponentUpdate(){
  return false
}
```

如果一个父组件是不需要更新的，那么子组件也不需要更新，

是否渲染也就是三种情况

- shouldComponentUpdate 为 true 会触发子组件的更改
- shouldComponentUpdate 为 true  且 vDOM 不同则更改，相同，则不更改
- shouldComponentUpdate 为 false，就不会触发更改

```jsx
// 如果只是在某些特定的值改变才触发更新的话，可以使用 shouldComponentUpdate 进行判断是否需要更新
class CounterButton extends React.component{
  constructor(props){
    super(props)
    this.state = {count:1}
  }
  shouldComponentUpdate(nextProps,nextState){
    if(this.props.color !== nextPorps.color){
      return true
    }
    if(this.state.count !== nextState.count){
      return true
    }
    return false
  }
  render(){
    return(
      <button color=></button>
    )
  }
}
```



## 参考文章

| 文章名称 | 链接                                                         |
| -------- | ------------------------------------------------------------ |
| 官方文档 | https://react.docschina.org/docs/optimizing-performance.html |
|          |                                                              |
|          |                                                              |
|          |                                                              |
|          |                                                              |

